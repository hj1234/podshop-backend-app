{% extends "base.html" %}

{% block content %}
<div class="page-header">
    <h2>Games In Progress</h2>
    {% if total is defined %}
    <span style="color: #888; font-size: 0.875rem;">Total: {{ total }}</span>
    {% endif %}
</div>

{% if games %}
<div class="table-wrapper">
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Fund Name</th>
            <th>Time Started</th>
            <th>Geolocation</th>
            <th>Created At</th>
        </tr>
    </thead>
    <tbody>
        {% for game in games %}
        <tr>
            <td><code>{{ game.id }}</code></td>
            <td><strong>{{ game.fund_name }}</strong></td>
            <td>{{ game.time_started }}</td>
            <td><code>{{ game.geolocation or 'N/A' }}</code></td>
            <td>{{ game.created_at }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>

{% if total_pages > 1 %}
<div class="pagination" style="margin-top: 2rem; display: flex; flex-direction: column; gap: 1rem; align-items: center;">
    <div style="color: #888; font-size: 0.875rem; text-align: center;">
        Showing {{ ((page - 1) * limit) + 1 }} to {{ [page * limit, total]|min }} of {{ total }} games
    </div>
    <div style="display: flex; gap: 0.5rem; align-items: center; flex-wrap: wrap; justify-content: center;">
        {% if page > 1 %}
        <a href="?page={{ page - 1 }}&limit={{ limit }}" class="btn btn-secondary btn-sm">Previous</a>
        {% else %}
        <span class="btn btn-secondary btn-sm" style="opacity: 0.5; cursor: not-allowed;">Previous</span>
        {% endif %}
        
        <span style="color: #888; padding: 0 1rem;">
            Page {{ page }} of {{ total_pages }}
        </span>
        
        {% if page < total_pages %}
        <a href="?page={{ page + 1 }}&limit={{ limit }}" class="btn btn-secondary btn-sm">Next</a>
        {% else %}
        <span class="btn btn-secondary btn-sm" style="opacity: 0.5; cursor: not-allowed;">Next</span>
        {% endif %}
    </div>
</div>
{% endif %}

{% else %}
<p style="color: #888; text-align: center; padding: 3rem;">No games in progress.</p>
{% endif %}
{% endblock %}

